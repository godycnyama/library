<div [ngBusy]="busy">
  <mat-card flex-gt-sm="50" >
    <div style="margin:30px">
        <br>
        <button type="button" mat-raised-button color="accent" (click) = "back()"><mat-icon>arrow_back</mat-icon> Back</button>
        <br>
        <h3>Add Book</h3>
    </div>           
  <form [formGroup]="formGroup"  (ngSubmit) = "createBook()" style="margin:30px" layout="column">
        <mat-form-field>
          <input id = "title" name="title" matInput type="text" placeholder="Title" [formControl] = "formGroup.controls.title">
          <mat-error *ngIf="formGroup.controls['title'].errors?.required">Title is required</mat-error>
          <mat-error *ngIf="formGroup.controls['title'].errors?.maxLength && !formGroup.controls['title'].errors?.required">Title must not exceeed 50 characters</mat-error>      
        </mat-form-field>
        <mat-form-field>
            <input id = "isbn" name="isbn" matInput type="text" placeholder="ISBN" [formControl] = "formGroup.controls.isbn">
            <mat-error *ngIf="formGroup.controls['isbn'].errors?.required">ISBN is required</mat-error>
            <mat-error *ngIf="formGroup.controls['isbn'].errors?.maxLength && !formGroup.controls['isbn'].errors?.required">ISBN must not exceeed 50 characters</mat-error>      
        </mat-form-field>
        <mat-form-field>
          <mat-select id = "category" name="category" placeholder="Category" [formControl] = "formGroup.controls.category">
            <mat-option *ngFor="let category of categoryOptions" [value]="category">{{category}}</mat-option>
          </mat-select>
          <mat-error *ngIf="formGroup.controls['category'].errors?.required">Category is required</mat-error>
        </mat-form-field>
        <mat-form-field>
          <input id = "authors" name="authors" matInput type="text" placeholder="Publisher(s) comma separated" [formControl] = "formGroup.controls.publisher">
          <mat-error *ngIf="formGroup.controls['authors'].errors?.required">Author(s) is required</mat-error>
          <mat-error *ngIf="formGroup.controls['authors'].errors?.maxLength && !formGroup.controls['authors'].errors?.required">Author(s) must not exceeed 50 characters</mat-error>      
        </mat-form-field>
        <mat-form-field>
          <input id = "publisher" name="publisher" matInput type="text" placeholder="Publisher" [formControl] = "formGroup.controls.publisher">
          <mat-error *ngIf="formGroup.controls['publisher'].errors?.required">Publisher is required</mat-error>
          <mat-error *ngIf="formGroup.controls['publisher'].errors?.maxLength && !formGroup.controls['publisher'].errors?.required">Publisher must not exceeed 50 characters</mat-error>      
        </mat-form-field> 
        <div layout="row">
                <div>
                    <button type="submit" mat-raised-button color="primary">Save</button>
                </div>
                <div flex-offset-gt-sm="10">
                    <button type="button" mat-raised-button color="accent" flex-offset-gt-xs="10" (click) = "back()">Cancel</button>
                </div>  
              </div>   
    </form>
   <br>
  </mat-card>
</div>


